{% extends "base.html" %}

{% block title %}Family Setup - Family Task Tracker{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 p-4">
    <div class="bg-white p-4 sm:p-8 rounded-2xl shadow-2xl max-w-4xl w-full">
        <div class="text-center mb-6 sm:mb-8">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">Welcome, {{ user.first_name }}! 👋</h1>
            <p class="text-sm sm:text-base text-gray-600">Let's set up your family</p>
        </div>

        <div class="flex flex-col sm:grid sm:grid-cols-2 gap-4 sm:gap-6">
            <!-- Create Family -->
            <div class="border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:border-blue-500 transition">
                <h2 class="text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4">🏠 Create New Family</h2>
                <p class="text-gray-600 mb-3 sm:mb-4 text-xs sm:text-sm">Start fresh and invite family members</p>
                
                <form hx-post="/create-family" hx-target="#create-message" hx-swap="innerHTML" class="space-y-3 sm:space-y-4">
                    <div>
                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Family Name</label>
                        <input 
                            type="text" 
                            name="family_name" 
                            required
                            class="w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"
                            placeholder="The Smiths"
                        >
                    </div>

                    <div id="create-message" class="text-xs sm:text-sm"></div>

                    <button 
                        type="submit"
                        class="w-full bg-blue-600 text-white py-2 sm:py-3 rounded-lg font-semibold hover:bg-blue-700 transition text-sm sm:text-base"
                    >
                        Create Family
                    </button>
                </form>
            </div>

            <!-- Join Family -->
            <div class="border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:border-purple-500 transition">
                <h2 class="text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4">🔗 Join Existing Family</h2>
                <p class="text-gray-600 mb-3 sm:mb-4 text-xs sm:text-sm">Enter the 8-character code from your family</p>
                
                <form hx-post="/join-family" hx-target="#join-message" hx-swap="innerHTML" class="space-y-3 sm:space-y-4">
                    <div>
                        <label class="block text-xs sm:text-sm font-medium text-gray-700 mb-1">Join Code</label>
                        <input 
                            type="text" 
                            name="join_code" 
                            required
                            maxlength="8"
                            class="w-full px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent uppercase text-center text-lg sm:text-2xl tracking-widest font-mono"
                            placeholder="ABC12345"
                        >
                    </div>

                    <div id="join-message" class="text-xs sm:text-sm"></div>

                    <button 
                        type="submit"
                        class="w-full bg-purple-600 text-white py-2 sm:py-3 rounded-lg font-semibold hover:bg-purple-700 transition text-sm sm:text-base"
                    >
                        Join Family
                    </button>
                </form>
            </div>
        </div>

        <div class="mt-4 sm:mt-6 text-center">
            <a href="/logout" class="text-gray-500 hover:underline text-xs sm:text-sm">
                Logout
            </a>
        </div>
    </div>
</div>
{% endblock %}