# Family Task Tracker

A gamified task management system for families with approval workflows, points, and rewards.

## âœ… Features Implemented

### Authentication & Authorization
- JWT token-based authentication
- Role-based access (Admin/Parent and Child)
- Secure password hashing
- Cookie-based sessions

### Task Management
- Create and assign tasks to children
- Task categories (Morning, Evening, Anytime)
- Point system for completed tasks
- Task approval workflow

### Approval System
- Tasks can require parent approval
- Children submit tasks for approval
- Parents can approve or deny
- Points awarded upon approval

### Rewards
- Define rewards with point costs
- Children can see available rewards
- Track lifetime points

### Dashboards
- Child dashboard with task list and progress tracking
- Parent dashboard with family overview and approval queue
- Responsive design with Alpine.js

## ğŸš€ Quick Start

### Local Development
```bash
# Install dependencies
pip install -r requirements.txt

# Start the server
python main.py

# Access at http://localhost:8000
```

### Deploy to Render.com

1. **Push to GitHub**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin YOUR_GITHUB_REPO_URL
   git push -u origin main
   ```

2. **Create Render Blueprint**
   - Go to https://dashboard.render.com
   - New + â†’ Blueprint
   - Connect your GitHub repo
   - Render auto-detects `render.yaml`
   - Click "Apply"

3. **Initialize Database** (in Render Shell)
   ```bash
   python -c "from app.database import Base, engine; Base.metadata.create_all(bind=engine)"
   ```

4. **Create Admin User** (in Render Shell)
   ```python
   from app.database import SessionLocal
   from app.models.family import Family
   from app.models.profile import Profile, UserRole
   from app.core.security import get_password_hash

   db = SessionLocal()
   family = Family(name='Your Family')
   db.add(family)
   db.commit()

   parent = Profile(
       family_id=family.id,
       email='your@email.com',
       password_hash=get_password_hash('your-password'),
       first_name='First',
       last_name='Last',
       role=UserRole.ADMIN
   )
   db.add(parent)
   db.commit()
   ```

## ğŸ“ Project Structure

```
family-task-tracker/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/          # API endpoints
â”‚   â”œâ”€â”€ core/         # Security, dependencies
â”‚   â”œâ”€â”€ models/       # Database models
â”‚   â”œâ”€â”€ config.py     # Settings
â”‚   â”œâ”€â”€ database.py   # DB connection
â”‚   â””â”€â”€ main.py       # FastAPI app
â”œâ”€â”€ static/
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ main.css  # Styles
â”œâ”€â”€ templates/        # Jinja2 templates
â”‚   â”œâ”€â”€ child/
â”‚   â”œâ”€â”€ parent/
â”‚   â””â”€â”€ auth/
â”œâ”€â”€ requirements.txt  # Dependencies
â””â”€â”€ render.yaml      # Render config
```

## ğŸ”‘ Environment Variables

Set these in Render.com:
- `DATABASE_URL`: Auto-set by Render PostgreSQL
- `SECRET_KEY`: Auto-generated by Render
- `ENVIRONMENT`: Set to "production"

## ğŸ¯ Usage Flow

1. **Parent** logs in and creates child profiles
2. **Parent** creates tasks and assigns to children
3. **Parent** sets which tasks require approval
4. **Child** logs in and sees assigned tasks
5. **Child** completes tasks (with or without approval)
6. **Parent** approves pending tasks
7. **Child** earns points and can view rewards

## ğŸ“š Tech Stack

- **Backend**: FastAPI + SQLAlchemy
- **Database**: PostgreSQL
- **Frontend**: Alpine.js + Tailwind CSS
- **Auth**: JWT tokens
- **Hosting**: Render.com

## ğŸ› Troubleshooting

### Login Issues
- Clear cookies and try again
- Check that SECRET_KEY is set in environment

### Database Connection
- Verify DATABASE_URL environment variable
- Check Render database status

### Tasks Not Loading
- Check browser console for errors
- Verify user has family_id set
- Check that tasks are assigned to child

## ğŸ“ License

MIT License - feel free to use for your family!
